$((function(){$(".burger, .menu__item").on("click",(function(){$(".burger span").toggleClass("change"),$(".menu").toggleClass("active"),$("body").toggleClass("lock")})),$(window).scroll((function(){const e=$(this).scrollTop();e>700?($(".jsFixedMenu").addClass("nav-fixed"),$(".jsHeaderTop, .jsOrder").addClass("compensation"),$(".back-to-top").fadeIn(500)):e<600&&($(".jsFixedMenu").removeClass("nav-fixed"),$(".jsHeaderTop, .jsOrder").removeClass("compensation"),$(".back-to-top").fadeOut(500)),e>10?$(".jsMobile").addClass("header-fixed"):e<10&&$(".jsMobile").removeClass("header-fixed")})),$(".back-to-top a").on("click",(function(){return $("body,html").animate({scrollTop:0},800),!1})),$(".slider").slick({prevArrow:'<button class="slider__btn-prev slider-btns"><img src="assets/img/icons/slider-prev.svg" alt="arrow"></button>',nextArrow:'<button class="slider__btn-next slider-btns"><img src="assets/img/icons/slider-next.svg" alt="arrow"></button>',responsive:[{breakpoint:992,settings:{arrows:!1}}]}),$(".slider").on("afterChange",(function(e,t,r){$(".slider__current-numb").text(r+1)})),$(".gift-slider__wrapper").slick({prevArrow:'<button class="carts-wrapper__btn-prev slider-btns"><img src="assets/img/icons/slider-prev.svg" alt="arrow"></button>',nextArrow:'<button class="carts-wrapper__btn-next slider-btns"><img src="assets/img/icons/slider-next.svg" alt="arrow"></button>',slidesToShow:3,slidesToScroll:2,responsive:[{breakpoint:1431,settings:{arrows:!1,slidesToShow:2,slidesToScroll:1}},{breakpoint:1050,settings:{arrows:!1,slidesToShow:2,slidesToScroll:2}},{breakpoint:992,settings:{arrows:!1,slidesToShow:1,slidesToScroll:1}}]}),$("body").on("input",'input[type="number"][maxlength]',(function(){this.value.length>this.maxLength&&(this.value=this.value.slice(0,this.maxLength))})),$(".jsTabBtn").on("click",(function(){const e=$(this).attr("data-tab"),t=$('.jsTabContent[data-tab="'+e+'"]');$(".jsTabBtn.active").removeClass("active"),$(this).addClass("active"),$(".jsTabContent.active").removeClass("active"),t.addClass("active")})),$(".order-btn").on("click",(function(){$(".modal-wrapper, .modal-window").fadeIn()})),$(".modal-wrapper").on("click",(function(){$(this).fadeOut(),$(this).children().fadeOut()})),$(".modal-close-btn").on("click",(function(){$(".modal-wrapper, .modal-window").fadeOut()})),$(".modal-wrapper").children().on("click",(function(e){e.stopPropagation()})),$(".transparent-btn_thanks").on("click",(function(){$(".modal-wrapper, .thanks-window").fadeOut()})),$("[data-submit-contact]").on("click",(function(e){e.preventDefault(),$(this).parent("form").submit()})),$.validator.addMethod("regex",(function(e,t,r){let n=new RegExp(r);return this.optional(t)||n.test(e)}),"Please check your input"),$(".js-form").each((function(){$(this).validate({rules:{firstName:{required:!0,regex:"[А-я]"},email:{required:!0},phoneNumber:{digits:!0,required:!0,minlength:10,maxlength:12,regex:"[0-9]+"},build:{digits:!0,required:!0,minlength:1,maxlength:10,regex:"[0-9]+"},flat:{digits:!0,required:!0,minlength:1,maxlength:100,regex:"[0-9]+"},country:{required:!0,regex:"[A-Za-z]"},town:{required:!0,regex:"[A-Za-z]"},street:{required:!0,regex:"[A-Za-z]"}},messages:{phoneNumber:{required:"Введите ваш телефон",regex:"Неправильно набран номер"},firstName:{required:"Введите ваше имя",regex:"Неправильно написано имя"},email:{required:"Введите вашу почту",regex:"Неправильно введена почта"},country:{required:"Страна",regex:"Неправильно написана страна"},town:{required:"Город",regex:"Неправильно написан город"},street:{required:"Введите вашу улицу",regex:"Неправильно написана улица"},build:{required:"Номер дома",regex:"Неверный номер дома"},flat:{required:"Номер квартиры",regex:"Неверный номер квартиры"}},submitHandler:function(e){$(".preloader-wrapper").fadeIn();let t=$(e);switch($(e).attr("id")){case"modalForm":$.ajax({type:"POST",url:t.attr("action"),data:t.serialize()}).done((function(){console.log("Succes")})).fail((function(){console.log("Fail")})).always((function(){setTimeout((function(){t.trigger("reset"),$(".modal-window").fadeOut()}),1e3),setTimeout((function(){$(".preloader-wrapper").fadeOut()}),1400),setTimeout((function(){$(".thanks-window").fadeIn()}),1700)}));break;case"contactForm":$.ajax({type:"POST",url:t.attr("action"),data:t.serialize()}).done((function(){console.log("Succes")})).fail((function(){console.log("Fail")})).always((function(){console.log("Always"),setTimeout((function(){t.trigger("reset")}),1e3),setTimeout((function(){$(".preloader-wrapper").fadeOut()}),1400),setTimeout((function(){$(".status").fadeIn()}),1700)}));break;case"orderForm":$.ajax({type:"POST",url:t.attr("action"),data:t.serialize()}).done((function(){console.log("Succes")})).fail((function(){console.log("Fail")})).always((function(){console.log("Always"),setTimeout((function(){t.trigger("reset")}),1e3),setTimeout((function(){$(".preloader-wrapper").fadeOut()}),1400),setTimeout((function(){$(".modal-wrapper, .thanks-window").fadeIn()}),1700)}))}return!1}})}))}));